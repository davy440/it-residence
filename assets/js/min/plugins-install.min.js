/*! indithemes 2024-07-18 */
const PluginsInstall=()=>{const r=document.querySelector(".itre-support-plugins-form");if(r){const e=new URL(document.location.href),s=(e.searchParams.set("page","demo-importer"),r.querySelector(".process")),l=r.querySelector(".plugin"),c=new Event("activated"),a=function(){const t=document.querySelector(".itre-support-plugins__links--nothanks");t.addEventListener("click",()=>{this.remove()})};var t=document.querySelector(".itre-demo-import");t&&a.apply(t),document.addEventListener("activated",()=>{if(0===r.querySelectorAll("button").length){let t=document.createElement("div");t.classList.add("itre-demo-import"),t.innerHTML="<p>Plugins installed. You are ready to start with your website. Create something awesome!</p>",t.innerHTML+="<p>You can also import content from our pre-made demos.</p>",t.innerHTML+=`<div class="itre-support-plugins__links"><a href="${e}" class="itre-support-plugins__links--demos">Import Demo</a><button class="itre-support-plugins__links--nothanks">No Thanks!</button></div>`,r.append(t),a.apply(t)}});r.addEventListener("submit",t=>{t.preventDefault();const e=t["submitter"],a=(s.value=e.dataset.process,l.value=e.dataset.slug,"Install"===e.innerHTML&&(e.innerHTML='Installing<svg class="loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48.25" height="48.25" viewBox="0 0 48.25 48.25"><defs><clipPath id="a" transform="translate(0.13 0.13)"><rect width="48" height="48" fill="none" stroke="#843a3a" stroke-miterlimit="10" stroke-width="0.25" opacity="0"/></clipPath></defs><title>loader</title><g clip-path="url(#a)"><path d="M14,15.11a13.3,13.3,0,0,1,9.32-4.45L23,5A19.27,19.27,0,0,0,9.74,11.3,18.86,18.86,0,0,0,4.83,24.37l-3.39.24,6.63,5.85,5.85-6.62-3.39.24A13.46,13.46,0,0,1,14,15.11Z" transform="translate(0.13 0.13)" fill="#fff"/><path d="M37.54,34.83,28.89,33l1.8,2.79a13.77,13.77,0,0,1-18-4.36L7.85,34.59A19.13,19.13,0,0,0,22.38,43.2a19.74,19.74,0,0,0,11.45-2.6l1.9,2.87,1.81-8.64Z" transform="translate(0.13 0.13)" fill="#fff"/><path d="M42.39,18.05A19.68,19.68,0,0,0,33.52,7.24L35.1,4.12,26.67,6.81l2.69,8.44,1.5-3a13.63,13.63,0,0,1,6,7.4,13.45,13.45,0,0,1-.79,10.28l5.1,2.65A18.56,18.56,0,0,0,42.39,18.05Z" transform="translate(0.13 0.13)" fill="#fff"/></g><rect x="0.13" y="0.13" width="48" height="48" fill="none" stroke="#843a3a" stroke-miterlimit="10" stroke-width="0.25" opacity="0"/></svg>'),"Activate"===e.innerHTML&&(e.innerHTML='Activating<svg class="loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48.25" height="48.25" viewBox="0 0 48.25 48.25"><defs><clipPath id="a" transform="translate(0.13 0.13)"><rect width="48" height="48" fill="none" stroke="#843a3a" stroke-miterlimit="10" stroke-width="0.25" opacity="0"/></clipPath></defs><title>loader</title><g clip-path="url(#a)"><path d="M14,15.11a13.3,13.3,0,0,1,9.32-4.45L23,5A19.27,19.27,0,0,0,9.74,11.3,18.86,18.86,0,0,0,4.83,24.37l-3.39.24,6.63,5.85,5.85-6.62-3.39.24A13.46,13.46,0,0,1,14,15.11Z" transform="translate(0.13 0.13)" fill="#fff"/><path d="M37.54,34.83,28.89,33l1.8,2.79a13.77,13.77,0,0,1-18-4.36L7.85,34.59A19.13,19.13,0,0,0,22.38,43.2a19.74,19.74,0,0,0,11.45-2.6l1.9,2.87,1.81-8.64Z" transform="translate(0.13 0.13)" fill="#fff"/><path d="M42.39,18.05A19.68,19.68,0,0,0,33.52,7.24L35.1,4.12,26.67,6.81l2.69,8.44,1.5-3a13.63,13.63,0,0,1,6,7.4,13.45,13.45,0,0,1-.79,10.28l5.1,2.65A18.56,18.56,0,0,0,42.39,18.05Z" transform="translate(0.13 0.13)" fill="#fff"/></g><rect x="0.13" y="0.13" width="48" height="48" fill="none" stroke="#843a3a" stroke-miterlimit="10" stroke-width="0.25" opacity="0"/></svg>'),new FormData(r)),i={};for(const n of a.entries())i[n[0]]=n[1];(async(t,e)=>{var{process:t,plugin:a}=t;if(t&&a){var{action:i,installer_nonce:n}=data,i=`action=${i}&process=${t}&plugin=${a}&nonce=`+n;try{const l=await fetch(ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i});var r=await l.text();if(!1!==r&&e.innerHTML.includes("Installing")&&(e.innerHTML="Activate",e.setAttribute("data-process","activate")),""===r&&e.innerHTML.includes("Activating")){const o=document.createElement("span");o.classList.add("activated");var s=document.createTextNode("Activated");o.append(s),e.replaceWith(o),document.dispatchEvent(c)}}catch{console.log(error)}}})(i,e)})}};PluginsInstall();